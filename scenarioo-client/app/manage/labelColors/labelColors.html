<div ng-controller="LabelColorsController as vm" ng-init="color = 'red'">

    <div class="alert alert-success fade-out" id="changed-label-config-successfully" ng-show="vm.successfullyUpdatedLabelConfigurations">
        The label configurations have been successfully updated.
        <a ng-click="vm.successfullyUpdatedLabelConfigurations=false" class="pull-right link link-no-hover" style="color: #468847">
            <i class="fas fa-times"></i>
        </a>
    </div>



    <form name="labelConfigurationsForm">
        <table class="table table-curved table-responsive" id="label-configurations-table">
            <thead>
                <tr>
                    <th>Label Name</th>
                    <th>Color</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="labelConfiguration in vm.labelConfigurations" id="label-configuration-{{$index}}">
                    <td>
                        <input type="text" class="ng-pristine ng-valid form-control" ng-model="labelConfiguration.name" name="labelName" ng-change="vm.labelNameChanged()"/>
                    </td>
                    <td style="vertical-align: middle;">
                        <ul class="sc-color-chooser">
                            <li ng-repeat="color in vm.availableColors">
                                <span style="background-color: {{color.backgroundColor}};" class="sc-color-field" ng-click="vm.selectColor(labelConfiguration, color)"
                                    ng-class="{'sc-color-field-selected' : color.backgroundColor === labelConfiguration.backgroundColor}"></span>
                            </li>
                        </ul>

                        <span ng-show="vm.colorMissing[$index]" class="sc-error-span">Please choose a color</span>
                    </td>
                    <td>
                        <input type="button" class="btn btn-small btn-danger" value="Delete" ng-click="vm.deleteEntry(labelConfiguration.name)" />
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="row sc-space-top-large">
            <div class="col-lg-12" style="text-align: right">
                <input type="button" value="Reset" class="btn btn-wide btn-default" ng-click="vm.reset()"/>
                <input type="button" value="Save" class="btn btn-wide btn-primary" ng-click="vm.save()" ng-disabled="labelConfigurationsForm.$invalid"/>
            </div>
        </div>
    </form>
</div>
